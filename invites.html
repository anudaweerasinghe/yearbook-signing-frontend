<!--
=========================================================
* Argon Dashboard - v1.2.0
=========================================================
* Product Page: https://www.creative-tim.com/product/argon-dashboard


* Copyright  Creative Tim (http://www.creative-tim.com)
* Coded by www.creative-tim.com



=========================================================
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
-->
<!DOCTYPE html>
<html>


<head>
    <meta charset="utf-8">
    <meta name="author" content="Anuda Weerasinghe">

    <!-- Favicon -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700">
    <!-- Icons -->
    <link rel="stylesheet" href="assets/vendor/nucleo/css/nucleo.css" type="text/css">
    <link rel="stylesheet" href="assets/vendor/@fortawesome/fontawesome-free/css/all.min.css" type="text/css">
    <!-- Page plugins -->
    <!-- Argon CSS -->
    <link rel="stylesheet" href="assets/css/argon.css?v=1.2.0" type="text/css">
</head>

<body>
<!-- Sidenav -->
<nav class="sidenav navbar navbar-vertical  fixed-left  navbar-expand-xs navbar-light bg-white" id="sidenav-main">
    <div class="scrollbar-inner">
        <!-- Brand -->
        <div class="sidenav-header  align-items-center">
            <a class="navbar-brand" href="javascript:void(0)">
                <img src="assets/imgs/logo.jpeg" class="navbar-brand-img" alt="...">
            </a>
        </div>
        <div class="navbar-inner">
            <!-- Collapse -->
            <div class="collapse navbar-collapse" id="sidenav-collapse-main">
                <!-- Nav items -->
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" href="#!/home">
                            <i class="ni ni-send text-primary"></i>
                            <span class="nav-link-text">Invites</span>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="#!/autographs">
                            <i class="fas fa-signature text-orange"></i>
                            <span class="nav-link-text">My Autographs</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#!/home" ng-click="logout()">
                            <i class="fas fa-sign-out-alt text-green"></i>
                            <span class="nav-link-text">Log Out</span>
                        </a>
                    </li>

                </ul>
                <!-- Divider -->
            </div>
        </div>
    </div>
</nav>
<!-- Main content -->
<div class="main-content" id="panel">
    <!-- Topnav -->
    <nav class="navbar navbar-top navbar-expand navbar-dark bg-primary border-bottom">
        <div class="container-fluid">
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <!-- Search form -->

                <!-- Navbar links -->
                <ul class="navbar-nav align-items-center  ml-md-auto ">
                    <li class="nav-item d-xl-none">
                        <!-- Sidenav toggler -->
                        <div class="pr-3 sidenav-toggler sidenav-toggler-dark" data-action="sidenav-pin"
                             data-target="#sidenav-main">
                            <div class="sidenav-toggler-inner">
                                <i class="sidenav-toggler-line"></i>
                                <i class="sidenav-toggler-line"></i>
                                <i class="sidenav-toggler-line"></i>
                            </div>
                        </div>
                    </li>

                </ul>

            </div>
        </div>
    </nav>
    <!-- Header -->
    <!-- Header -->
    <div class="header bg-primary pb-6">
        <div class="container-fluid">
            <div class="header-body">
                <div class="row align-items-center py-4">
                    <div class="col-lg-6 col-7">
                        <h6 class="h2 text-white d-inline-block mb-0">OSC Yearbook 2019-2020 Digital Autographs</h6>
                        <nav aria-label="breadcrumb" class="d-none d-md-inline-block ml-md-4">
                            <ol class="breadcrumb breadcrumb-links breadcrumb-dark">
                                <li class="breadcrumb-item"><i class="ni ni-send"></i></li>
                                <li class="breadcrumb-item">Invites</li>
                            </ol>
                        </nav>
                    </div>

                </div>
                <!-- Card stats -->

            </div>
        </div>
    </div>
    <!-- Page content -->
    <div class="container-fluid mt--6">
        <div class="row">
            <div class="col-xl-7">
                <div class="card">
                    <!-- Card header -->
                    <div class="card-header border-0">
                        <div class="row align-items-center">
                            <div class="col">
                                <h3 class="mb-0">{{inviteLabel}}</h3>
                            </div>
                            <div class="col text-right">
                                <button type="button" class="btn btn-primary" data-toggle="modal"
                                        data-target="#newInviteModal">New Invite
                                </button>
                                <button type="button" class="btn btn-primary" ng-click="viewResponses()">View Responses</button>

                            </div>


                        </div>
                    </div>

                    <!-- Light table -->
                    <div class="table-responsive">
                        <table class="table align-items-center table-flush">
                            <thead class="thead-light">
                            <tr>
                                <th>Name</th>
                                <th>Status</th>
                                <th>Sent at</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="items in invites| orderBy: reverse:true">

                                <td>
                                    {{items.responder.name}}
                                </td>
                                <td ng-if="items.activeStatus==1">
                        <span class="badge badge-dot mr-4">
                          <i class="bg-warning"></i>
                          <span class="status">Pending Response</span>
                        </span>
                                </td>
                                <td ng-if="items.activeStatus==2">
                        <span class="badge badge-dot mr-4">
                          <i class="bg-green"></i>
                          <span class="status">Complete</span>
                        </span>
                                </td>
                                <td>
                                    {{items.inviteTime}}
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <!-- Card footer -->

                </div>
            </div>
            <div class="col-xl-5">
                <div class="card bg-default shadow">
                    <!-- Card header -->
                    <div class="card-header bg-transparent border-0">
                        <h3 class="text-white mb-0">{{notificationLabel}}</h3>
                    </div>
                    <!-- Light table -->
                    <div class="table-responsive">
                        <table class="table align-items-center table-dark table-flush">
                            <thead class="thead-dark">
                            <tr>
                                <th>Name</th>
                                <th>Received at</th>
                                <th></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="item in notifications| orderBy: reverse:true">

                                <td>
                                    {{item.inviter.name}}
                                </td>

                                <td>
                                    {{item.inviteTime}}
                                </td>

                                <td>
                                    <button type="button" class="btn btn-primary" ng-click="changeSignId(item.id, item.inviter.name) " data-toggle="modal"
                                            data-target="#signModal">Sign Now</button>

                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <!-- Card footer -->

                </div>
            </div>
        </div>
        <!-- Dark table -->
        <div class="modal fade" id="newInviteModal" tabindex="-1" role="dialog" aria-labelledby="newInviteModalLabel"
             aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title" id="newInviteModalLabel">New Invite</h1>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="row align-items-center">
                            <div class="col">
                                <h1 class="mb-0">Who do you want to invite to sign your digital yearbook?</h1>


                                <br><br>


                                <select ng-model="recipient" style="width: 100%; font-size: 16pt; background: white;">
                                    <option ng-repeat="things in users| orderBy: reverse:true" value="{{things.id}}">{{things.name}}</option>

                                </select>
                                <br><br>

                                <h5 class="card-title  text-muted mb-0">If you can't find who you're looking for, ask
                                    them to sign up at yearbook.osc.lk
                                </h5>
                            </div>
                        </div>
                        <br>
                        <!-- Projects table -->
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="sendInvite()">Send Invite</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="signModal" tabindex="-1" role="dialog" aria-labelledby="signModalLabel"
             aria-hidden="true">
          <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title" id="signModalLabel">Sign Now</h1>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="row align-items-center">
                  <div class="col">
                    <h1 class="mb-0">{{label}}</h1>


                    <br><br>


                    <textarea type="text" maxlength="10000" style="width: 100%; font-size: 14pt" name="team-photo" placeholder="Your Message" ng-model="message" rows="10"></textarea>

                    <br><br>

                  </div>
                </div>
                <br>
                <!-- Projects table -->
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="sendMessage()">Send Message</button>
              </div>
            </div>
          </div>
        </div>

    </div>
    <!-- Footer -->


<!-- Argon Scripts -->
<!-- Core -->
<script src="assets/vendor/jquery/dist/jquery.min.js"></script>
<script src="assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="assets/vendor/js-cookie/js.cookie.js"></script>
<script src="assets/vendor/jquery.scrollbar/jquery.scrollbar.min.js"></script>
<script src="assets/vendor/jquery-scroll-lock/dist/jquery-scrollLock.min.js"></script>
<!-- Optional JS -->
<script src="assets/vendor/chart.js/dist/Chart.min.js"></script>
<script src="assets/vendor/chart.js/dist/Chart.extension.js"></script>
<!-- Argon JS -->
<script src="assets/js/argon.js?v=1.2.0"></script>
</body>

</html>
